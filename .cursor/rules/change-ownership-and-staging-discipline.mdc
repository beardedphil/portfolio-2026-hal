---
description: Prevent committing unrelated changes; staging and ownership discipline
alwaysApply: true
---

# Change Ownership + Staging Discipline

## Only commit what your ticket changes

- An agent must only commit changes that belong to the **current ticket** they are implementing.
- **FORBIDDEN:** bundling unrelated file changes into the ticket commit (including stray edits, formatting passes, or leftover untracked files).

## Concurrency safety (assume other agents may be running)

- Always assume **another agent might be editing files in parallel** in the same repo.
- **FORBIDDEN:** touching, restoring, staging, committing, or deleting files you did not personally change in the current task.
  - Do **not** “clean up” other agents’ work-in-progress.
  - Do **not** run broad commands that can affect unrelated files (examples: `git add .`, `git add -A`, `git restore .`, `git checkout .`, mass-formatting).
- If you need a clean place to work while the main working tree is dirty, use a **git worktree** so your changes are isolated.

## Staging discipline (required)

Before committing ticket work:

- Review `git diff` and `git status` and ensure every changed file is expected.
- Stage only the intended files (explicit `git add <paths>`).
- If any unrelated changes exist:
  - revert them, delete them, or move them into a **separate ticket/branch**.

## Do not “fix someone else’s work” inside a ticket

- If you discover a problem outside the ticket scope (including process cleanup), do **not** fold it into the ticket.
- Create a new ticket (preferred) and fix it on its own branch.

## Branching requirement (ties to done-means-pushed)

- Ticket work must be performed on `ticket/<id>-<short-title-kebab>` branches.
- Do not commit ticket work directly on `main`.
