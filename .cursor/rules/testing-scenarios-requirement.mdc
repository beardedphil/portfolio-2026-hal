---
description: Require agents to include a "Testing scenarios used" section when verifying acceptance criteria
alwaysApply: true
---

# Testing Scenarios Requirement

**MANDATORY:** When any agent marks acceptance criteria as verified/passed, they **must** include a clearly labeled **"Testing scenarios used"** section that documents the concrete scenarios they actually ran.

## Scope

This requirement applies to:
- **Implementation agents** — when creating the Verification artifact
- **QA agents** — when creating the QA Report
- **PM/Process review agents** — when creating PM review artifacts/notes (when applicable)

## Where scenarios must appear

### Implementation Agent

The **"Testing scenarios used"** section must appear in the **Verification artifact** (`artifactType: "verification"`, title: `Verification for ticket <ticket-id>`).
- **Storage:** Stored in Supabase via HAL API endpoint `/api/artifacts/insert-implementation`

### QA Agent

The **"Testing scenarios used"** section must appear in the **QA Report** (`artifactType: "qa-report"`, title: `QA Report for ticket <ticket-id>`).
- **Storage:** Stored in Supabase via HAL API endpoint `/api/artifacts/insert-qa`

### PM/Process Review Agent

The **"Testing scenarios used"** section must appear in the **PM Review artifact** (`artifactType: "pm-review"`, title: `PM Review for ticket <ticket-id>`) when the PM review includes verification of acceptance criteria.
- **Storage:** Stored in Supabase via HAL API endpoint `/api/artifacts/insert-implementation` (for PM review artifacts)

## Minimum content requirements

The **"Testing scenarios used"** section must include:

1. **At least 1 happy-path scenario** — The primary success case that demonstrates the feature works as intended.
2. **At least 2 edge/negative scenarios** — Relevant edge cases, error conditions, or boundary conditions that test robustness.
3. **Concrete details** — Each scenario must be 1–3 bullets and reference:
   - Specific UI state/inputs used (e.g., "Clicked 'Save' button with form fields: name='Test', email='test@example.com'")
   - Expected outcomes (e.g., "Ticket appeared in 'Done' column")
   - No vague statements like "tested it works" or "verified functionality"

**Do NOT use vague descriptions** like "tested it works" or "verified functionality". Each scenario must be specific and reproducible.

## Format example

```markdown
## Testing scenarios used

### Happy path
- **Scenario:** [Description of primary success case]
  - **Steps:** [Specific UI actions/inputs]
  - **Expected:** [Concrete outcome]
  - **Result:** PASS

### Edge cases
- **Scenario:** [Description of edge case 1]
  - **Steps:** [Specific UI actions/inputs]
  - **Expected:** [Concrete outcome]
  - **Result:** PASS

- **Scenario:** [Description of edge case 2]
  - **Steps:** [Specific UI actions/inputs]
  - **Expected:** [Concrete outcome]
  - **Result:** PASS
```

## When to include

- **Implementation agent:** Include in Verification artifact when marking acceptance criteria as verified
- **QA agent:** Include in QA Report when performing verification and marking acceptance criteria as passed
- **PM/Process review:** Include in review notes when reviewing implementation and verifying acceptance criteria

## Why this matters

- Provides human-verifiable evidence that acceptance criteria were actually tested
- Makes it clear what was tested vs. what was assumed
- Helps identify gaps in testing coverage
- Enables quick spot-checks in the HAL app UI to confirm testing was performed

## Enforcement

- Agents must not claim acceptance criteria are verified/passed without including this section
- QA agents should verify that implementation Verification artifacts include this section
- Missing or incomplete testing scenarios sections are grounds for QA failure

## Scope

This requirement applies to all ticketed tasks where acceptance criteria are verified. The testing scenarios section provides transparency and traceability for how acceptance criteria were validated. The scenarios section must be clearly labeled as **"Testing scenarios used"** and scenarios must correspond to the ticket's acceptance criteria. If a ticket has no testable acceptance criteria, state that explicitly in the scenarios section.
